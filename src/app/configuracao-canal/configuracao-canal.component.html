<div class="container" (drop)="onDrop($event)" (dragover)="onDragOver($event)">
  <div class="robo-icon">
    <img src="brian.png" alt="Ícone do robô" />
  </div>
  <div class="header-container">
    <h1>Apontamentos de Horas</h1>
    <span class="credit">Desenvolvido por: henrique.formiga</span>
  </div>
  <input
    #fileInput
    type="file"
    accept=".csv"
    style="display: none"
    (change)="onFileSelected($event)"
  />
  <div
    class="csv-dropzone"
    (drop)="onFileDrop($event)"
    (dragover)="onDragOver($event)"
    (click)="abrirSeletorArquivo()"
  >
    Arraste e solte o CSV aqui
  </div>
  <div *ngIf="somaHoras !== null">
    <h2><strong>Total de Horas Trabalhadas:</strong> <br> <span class="total-horas"> {{ somaHoras }}</span> </h2>
  </div>

  <div *ngIf="somaHoras !== null">
    <mat-form-field appearance="outline">
      <mat-label>{{
        horasEsperadas
          ? "Total de horas esperadas:"
          : "Digite as horas esperadas:"
      }}</mat-label>
      <input
        matInput
        type="number"
        step="0.01"
        [(ngModel)]="horasEsperadas"
        placeholder="Digite as horas"
        (change)="salvarHorasEsperadas()"
      />
    </mat-form-field>
  </div>

  <div *ngIf="somaHoras !== null && horasEsperadas !== null">
    <div
      [ngClass]="{
        positivo: diferencaHoras < 0,
        negativo: diferencaHoras > 0,
        zerado: diferencaHoras === 0
      }"
    >
      <strong>Diferença:</strong>
      <span *ngIf="diferencaHoras < 0">
        Você ultrapassou {{ (diferencaHoras * -1) | number : "1.2-2" }} horas
      </span>
      <span *ngIf="diferencaHoras > 0">
        Você está devendo {{ diferencaHoras | number : "1.2-2" }} horas
      </span>
      <span *ngIf="diferencaHoras === 0"> Você completou suas horas! </span>
    </div>
  </div>
</div>
